<UserControl xmlns="https://github.com/avaloniaui"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:navbar="using:WalletWasabi.Fluent.Views.NavBar"
                    xmlns:ext="using:WalletWasabi.Fluent.Helpers"
                    xmlns:statusBar="clr-namespace:WalletWasabi.Fluent.Views.StatusBar"
                    xmlns:wallets="clr-namespace:WalletWasabi.Fluent.Views.Wallets"
                    xmlns:spectrum="clr-namespace:WalletWasabi.Fluent.Controls.Spectrum"
                    xmlns:searchBar="clr-namespace:WalletWasabi.Fluent.Views.SearchBar"
                    xmlns:c="using:WalletWasabi.Fluent.Controls"
                    xmlns:viewModels="clr-namespace:WalletWasabi.Fluent.ViewModels"
                    x:Class="WalletWasabi.Fluent.Views.Shell.MainView"
                    x:DataType="viewModels:MainViewModel"
                    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                    d:DesignWidth="1200" d:DesignHeight="1000"
                    x:CompileBindings="True">

  <Grid ColumnDefinitions="68, *, 150" RowDefinitions="48, *">

    <Panel Grid.Row="0" Grid.Column="{ext:Platform 0, Osx=1}" Grid.ColumnSpan="{ext:Platform 2, Osx=1}" TextBlock.Foreground="{DynamicResource NavBarItemForegroundBrush}">
      <StackPanel Orientation="Horizontal" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="20 0 0 0">
        <Viewbox Height="18" Width="18" IsHitTestVisible="False">
          <Image Source="{DynamicResource wasabi_logo_dynamic}" />
        </Viewbox>
        <TextBlock Foreground="{DynamicResource AcrylicTrimForeground}" Classes="h8" VerticalAlignment="Center" Text="Wasabi Wallet" Margin="20 0 0 0" IsHitTestVisible="False" />
        <TextBlock Foreground="{DynamicResource AcrylicTrimForeground}" Classes="h8" VerticalAlignment="Center" Opacity="0.6" Text="TESTNET PREVIEW" IsHitTestVisible="False" Margin="5 0 0 0" />
      </StackPanel>
    </Panel>

    <statusBar:StatusBar Grid.Column="{ext:Platform 1, Osx=2}" Margin="0 0 5 0" Foreground="{DynamicResource AcrylicTrimForeground}" DataContext="{Binding StatusBar}" HorizontalAlignment="Right" VerticalAlignment="Center" />

    <navbar:NavBar Grid.Row="1" Grid.Column="0" DataContext="{Binding NavBar}" />

    <Border Grid.Row="1" Grid.Column="1" BorderBrush="{DynamicResource TileBorderColor}" BorderThickness="1 1 0 0" Grid.ColumnSpan="2" CornerRadius="10 0 0 0" ClipToBounds="True">
      <Panel>
        <Border CornerRadius="10 0 0 0" Background="{DynamicResource RegionColor}" ClipToBounds="True" IsHitTestVisible="False" />
        <Panel VerticalAlignment="Bottom"
               Height="100">
          <spectrum:SpectrumControl Foreground="{DynamicResource SystemAccentColor}" Opacity="0.6" IsActive="{Binding IsCoinJoinActive}"
                                    IsDockEffectVisible="{Binding MusicControls.IsActive}" />
        </Panel>
        <DockPanel>
          <DockPanel.Styles>
            <Style Selector="ContentControl c|ContentArea /template/ Panel#PART_ButtonArea">
              <Setter Property="IsVisible" Value="False" />
            </Style>

            <Style Selector="c|ContentArea /template/ StackPanel#PART_Header">
              <Setter Property="Margin" Value="31 26 31 0" />
            </Style>
          </DockPanel.Styles>
          <wallets:MusicControlsView DockPanel.Dock="Bottom" DataContext="{Binding MusicControls}"
                                     HorizontalAlignment="Center" Height="66" />
          <ContentControl ClipToBounds="False" Content="{Binding MainScreen.CurrentPage}" />
        </DockPanel>
        <Border CornerRadius="10 0 0 0" BoxShadow="inset 0 0 5 0 #000000" ClipToBounds="True" IsHitTestVisible="False" Margin="0 0 -5 -5" />
      </Panel>
    </Border>

    <searchBar:SearchBar DataContext="{Binding SearchBar}" Width="400" VerticalAlignment="Stretch"
                         Grid.Row="0" Grid.Column="1" Grid.ColumnSpan="2" />

  </Grid>
</UserControl>
