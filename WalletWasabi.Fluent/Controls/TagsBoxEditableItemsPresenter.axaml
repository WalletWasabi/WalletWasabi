<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:c="clr-namespace:WalletWasabi.Fluent.Controls"
        xmlns:generic="clr-namespace:System.Collections.Generic;assembly=System.Collections"
        xmlns:system="clr-namespace:System;assembly=System.Runtime">

  <Design.PreviewWith>
    <c:TagsBoxEditableItemsPresenter>
      <c:TagsBoxEditableItemsPresenter.Items>
        <generic:List x:TypeArguments="system:String">
          <system:String>Label1</system:String>
          <system:String>Label2</system:String>
          <system:String>Label3</system:String>
        </generic:List>
      </c:TagsBoxEditableItemsPresenter.Items>
    </c:TagsBoxEditableItemsPresenter>
  </Design.PreviewWith>

  <Style Selector="c|TagsBoxEditableItemsPresenter">
    <Setter Property="Foreground" Value="{DynamicResource TextControlForeground}" />
    <Setter Property="Background" Value="{DynamicResource TextControlBackground}" />
    <Setter Property="BorderBrush" Value="{DynamicResource TextControlBorderBrush}" />
    <Setter Property="BorderThickness" Value="{DynamicResource TextControlBorderThemeThickness}" />
    <Setter Property="FontSize" Value="{DynamicResource ControlContentThemeFontSize}" />
    <Setter Property="MinHeight" Value="{DynamicResource TextControlThemeMinHeight}" />
    <Setter Property="MinWidth" Value="{DynamicResource TextControlThemeMinWidth}" />
    <Setter Property="Padding" Value="{DynamicResource TagsBoxBorderPadding}" />
    <Setter Property="Cursor" Value="IBeam" />
    <Setter Property="Template">
      <ControlTemplate>
        <c:TagsBoxItemsControl Name="PART_ItemsPresenter"
                               Focusable="False"
                               Items="{TemplateBinding Items}"
                               EnableCounter="{TemplateBinding EnableCounter}"
                               EnableDelete="{TemplateBinding EnableDelete}"
                               RemoveTagCommand="{TemplateBinding RemoveTagCommand}">
          <c:TagsBoxItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
              <c:ConcatenatingWrapPanel Focusable="False" VerticalAlignment="Center">
                <c:ConcatenatingWrapPanel.ConcatenatedChildren>
                  <!-- TODO: Add property Suggestions instead binding to $parent[c:TagsBox] -->
                  <!-- TODO: Do not use $parent[c:TagsBox] binding for IsTextCompletionEnabled -->
                  <c:TagsBoxAutoCompleteBox x:Name="PART_AutoCompleteBox"
                                            Items="{Binding $parent[c:TagsBox].Suggestions}"
                                            IsTextCompletionEnabled="{Binding $parent[c:TagsBox].RestrictInputToSuggestions}"
                                            FilterMode="StartsWith" />
                </c:ConcatenatingWrapPanel.ConcatenatedChildren>
              </c:ConcatenatingWrapPanel>
            </ItemsPanelTemplate>
          </c:TagsBoxItemsControl.ItemsPanel>
        </c:TagsBoxItemsControl>
      </ControlTemplate>
    </Setter>
  </Style>

</Styles>

