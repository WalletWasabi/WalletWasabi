<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:c="using:WalletWasabi.Fluent.Controls"
        xmlns:behaviors="using:WalletWasabi.Fluent.Behaviors"
        xmlns:i="using:Avalonia.Xaml.Interactivity">
  <Design.PreviewWith>
      <Panel Background="{DynamicResource RegionColor}">
        <c:ContentArea Width="500" Height="300"
                       IsBusy="False"
                       Title="Add a Wallet"
                       EnableBack="True"
                       EnableCancel="True" CancelContent="Cancel" FocusCancel="False"
                       EnableNext="True" NextContent="Continue" FocusNext="True"
                       Caption="Type in your Wallet's name and select an option below:"
                       HeaderBackground="Blue"
                       EnabledAdaptiveButtonArea="True"
                       AdaptiveButtonAreaPlacement="Overlay"
                       AdaptiveButtonAreaHeightTrigger="400">
          <c:ContentArea.Styles>
            <Style Selector="c|ContentArea /template/ Grid#MainGridPanel">
              <Setter Property="ShowGridLines" Value="True" />
            </Style>
          </c:ContentArea.Styles>
          <Panel Background="gray">
            <TextBlock Text="This is the content."/>
          </Panel>
          </c:ContentArea>
      </Panel>
  </Design.PreviewWith>
    <Styles.Resources>
    </Styles.Resources>
    <Style Selector="c|ContentArea">
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
        <Setter Property="Background" Value="{DynamicResource RegionColor}" />
        <Setter Property="IsHitTestVisible" Value="{Binding IsActive}" />
        <Setter Property="Template">
            <ControlTemplate>
                <Panel>
                    <Panel IsHitTestVisible="False" Background="{TemplateBinding Background}" />
                    <c:ProgressRing Name="LoadingRing" IsIndeterminate="True" IsVisible="{TemplateBinding IsBusy}" />

                    <Grid Name="MainGridPanel" IsVisible="{Binding !#LoadingRing.IsVisible}">

                      <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="31" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="31" />
                      </Grid.ColumnDefinitions>
                      <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <RowDefinition Height="Auto" />
                      </Grid.RowDefinitions>

                      <Panel Name="PART_LeftTitleArea"
                             Background="{TemplateBinding HeaderBackground}" >
                        <Button Name="PART_BackButton"
                                Classes="plain"
                                Command="{Binding BackCommand}"
                                IsVisible="{TemplateBinding EnableBack}">
                          <PathIcon Data="{StaticResource arrow_left_regular}" Width="16" />
                        </Button>
                      </Panel>

                      <Panel Name="PART_TitleArea"
                             Background="{TemplateBinding HeaderBackground}" >
                        <ContentPresenter Name="PART_TitlePresenter" Content="{TemplateBinding Title}" />
                      </Panel>

                      <Panel Name="PART_RightTitleArea"
                             Background="{TemplateBinding HeaderBackground}" />

                      <Panel Name="PART_LeftCaptionArea"
                             Background="{TemplateBinding HeaderBackground}" />

                      <Panel Name="PART_CaptionArea"
                             Background="{TemplateBinding HeaderBackground}" >
                          <ContentPresenter Name="PART_CaptionPresenter" Content="{TemplateBinding Caption}" />
                      </Panel>

                      <Panel Name="PART_RightCaptionArea"
                             Background="{TemplateBinding HeaderBackground}" />

                      <ScrollViewer Name="PART_ScrollViewer" ClipToBounds="{TemplateBinding ClipToBounds}"
                                    HorizontalScrollBarVisibility="{TemplateBinding (ScrollViewer.HorizontalScrollBarVisibility)}"
                                    VerticalScrollBarVisibility="{TemplateBinding (ScrollViewer.VerticalScrollBarVisibility)}">
                        <ScrollViewer.Styles>
                          <Style Selector="ScrollViewer /template/ ScrollContentPresenter">
                            <Setter Property="ClipToBounds" Value="{Binding $parent[ScrollViewer].ClipToBounds}" />
                          </Style>
                        </ScrollViewer.Styles>
                        <ContentControl Name="PART_ContentPresenter"
                                        ClipToBounds="{TemplateBinding ClipToBounds}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        ContentTemplate="{TemplateBinding ContentTemplate}"
                                        Content="{TemplateBinding Content}"
                                        Padding="{TemplateBinding Padding}"
                                        VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                        HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}" />
                      </ScrollViewer>

                      <Panel Name="PART_ButtonArea">
                        <Button Name="PART_CancelButton"
                                Classes="invisible"
                                IsVisible="{TemplateBinding EnableCancel}"
                                Content="{TemplateBinding CancelContent}"
                                HorizontalAlignment="Left"
                                Command="{Binding CancelCommand}">
                            <i:Interaction.Behaviors>
                                <behaviors:FocusOnAttachedBehavior
                                    IsEnabled="{Binding FocusCancel, RelativeSource={RelativeSource TemplatedParent}}" />
                            </i:Interaction.Behaviors>
                        </Button>
                        <StackPanel Orientation="Horizontal"
                                    Spacing="30"
                                    Margin="0 10"
                                    HorizontalAlignment="Right">
                            <Button Name="PART_SkipButton"
                                    IsVisible="{TemplateBinding EnableSkip}"
                                    Content="{TemplateBinding SkipContent}"
                                    Command="{Binding SkipCommand}"
                                    Classes="activeHyperLink skip"
                                    VerticalAlignment="Center" />
                            <Button Name="PART_NextButton" Classes="action"
                                    IsVisible="{TemplateBinding EnableNext}"
                                    Content="{TemplateBinding NextContent}"
                                    Command="{Binding NextCommand}"
                                    IsDefault="{Binding IsActive}">
                                <i:Interaction.Behaviors>
                                    <behaviors:FocusOnAttachedBehavior
                                        IsEnabled="{Binding FocusNext, RelativeSource={RelativeSource TemplatedParent}}" />
                                </i:Interaction.Behaviors>
                            </Button>
                        </StackPanel>
                      </Panel>

                    </Grid>
                </Panel>
            </ControlTemplate>
        </Setter>
    </Style>

  <Style Selector="c|ContentArea /template/ Panel#PART_LeftTitleArea">
    <Setter Property="(Grid.Column)" Value="0" />
    <Setter Property="(Grid.Row)" Value="0" />
  </Style>

  <Style Selector="c|ContentArea /template/ Panel#PART_TitleArea">
    <Setter Property="(Grid.Column)" Value="1" />
    <Setter Property="(Grid.ColumnSpan)" Value="2" />
    <Setter Property="(Grid.Row)" Value="0" />
  </Style>

  <Style Selector="c|ContentArea /template/ ContentPresenter#PART_TitlePresenter">
    <Setter Property="Margin" Value="0,0,0,0" />
  </Style>

  <Style Selector="c|ContentArea /template/ Panel#PART_RightTitleArea">
    <Setter Property="(Grid.Column)" Value="3" />
    <Setter Property="(Grid.Row)" Value="0" />
  </Style>

  <Style Selector="c|ContentArea /template/ Button#PART_BackButton">
    <Setter Property="VerticalAlignment" Value="Center" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="Margin" Value="0,0,0,0" />
  </Style>

  <Style Selector="c|ContentArea /template/ Panel#PART_LeftCaptionArea">
    <Setter Property="(Grid.Column)" Value="0" />
    <Setter Property="(Grid.Row)" Value="1" />
  </Style>

  <Style Selector="c|ContentArea /template/ Panel#PART_CaptionArea">
    <Setter Property="(Grid.Column)" Value="1" />
    <Setter Property="(Grid.ColumnSpan)" Value="2" />
    <Setter Property="(Grid.Row)" Value="1" />
  </Style>

  <Style Selector="c|ContentArea /template/ ContentPresenter#PART_CaptionPresenter">
    <Setter Property="Margin" Value="0,10,0,0" />
  </Style>

  <Style Selector="c|ContentArea /template/ Panel#PART_RightCaptionArea">
    <Setter Property="(Grid.Column)" Value="3" />
    <Setter Property="(Grid.Row)" Value="1" />
  </Style>

    <Style Selector="c|ContentArea /template/ Panel#PART_ButtonArea">
      <Setter Property="(Grid.Column)" Value="1" />
      <Setter Property="(Grid.ColumnSpan)" Value="2" />
      <Setter Property="(Grid.Row)" Value="3" />
      <Setter Property="Margin" Value="0,10" />
    </Style>

    <Style Selector="c|ContentArea[ButtonAreaPlacement=Overlay] /template/ Panel#PART_ButtonArea">
      <Setter Property="(Grid.Column)" Value="1" />
      <Setter Property="(Grid.ColumnSpan)" Value="2" />
      <Setter Property="(Grid.Row)" Value="2" />
      <Setter Property="VerticalAlignment" Value="Bottom" />
      <Setter Property="Margin" Value="0,1,16,10" />
    </Style>

    <Style Selector="c|ContentArea[ButtonAreaPlacement=Title] /template/ Panel#PART_ButtonArea">
      <Setter Property="(Grid.Column)" Value="2" />
      <Setter Property="(Grid.ColumnSpan)" Value="1" />
      <Setter Property="(Grid.Row)" Value="0" />
      <Setter Property="VerticalAlignment" Value="Bottom" />
      <Setter Property="Margin" Value="0,1,0,0" />
    </Style>

    <Style Selector="c|ContentArea /template/ ScrollViewer#PART_ScrollViewer">
      <Setter Property="(Grid.Column)" Value="1" />
      <Setter Property="(Grid.ColumnSpan)" Value="2" />
      <Setter Property="(Grid.Row)" Value="2" />
      <Setter Property="Margin" Value="0 31 0 21" />
    </Style>

    <Style Selector="c|ContentArea /template/ ContentPresenter#PART_TitlePresenter">
        <Setter Property="TextBlock.Foreground" Value="{DynamicResource TextControlForeground}" />
        <Setter Property="TextBlock.FontSize" Value="{DynamicResource FontSizeH3}" />
    </Style>

    <Style Selector="c|ContentArea :is(Control).title TextBlock, c|ContentArea :is(TextBlock).title">
        <Setter Property="TextWrapping" Value="Wrap" />
    </Style>

    <Style Selector="c|ContentArea :is(Control).caption TextBlock, c|ContentArea :is(TextBlock).caption">
        <Setter Property="Foreground" Value="{DynamicResource TextControlForeground}" />
        <Setter Property="FontSize" Value="{DynamicResource FontSizeH7}" />
        <Setter Property="TextWrapping" Value="Wrap" />
        <Setter Property="Opacity" Value="0.6" />
    </Style>

    <Style Selector="c|ContentArea /template/ c|ProgressRing#LoadingRing">
        <Setter Property="Width" Value="100" />
        <Setter Property="Height" Value="100" />
    </Style>

    <Style Selector="Button.skip:pointerover /template/ ContentPresenter">
        <Setter Property="TextBlock.Foreground" Value="{DynamicResource SystemAccentColor}" />
    </Style>

</Styles>
