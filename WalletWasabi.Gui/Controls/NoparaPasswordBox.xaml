<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:WalletWasabi.Gui.Controls;assembly=WalletWasabi.Gui">
  <Style Selector="controls|NoparaPasswordBox">
    <Setter Property="Background" Value="{DynamicResource ThemeBackgroundBrush}" />
    <Setter Property="BorderBrush" Value="{DynamicResource ThemeBorderMidBrush}" />
    <Setter Property="BorderThickness" Value="{DynamicResource ThemeBorderThickness}" />
    <Setter Property="Padding" Value="4" />
    <Setter Property="Template">
      <ControlTemplate>
        <Border Name="border"
                Background="{TemplateBinding Background}"
                BorderBrush="{TemplateBinding BorderBrush}"
                BorderThickness="{TemplateBinding BorderThickness}">
          <DockPanel Margin="{TemplateBinding Padding}">

            <TextBlock Name="floatingWatermark"
                       Foreground="{DynamicResource ThemeAccentBrush}"
                       FontSize="{DynamicResource FontSizeSmall}"
                       Text="{TemplateBinding Watermark}"
                       DockPanel.Dock="Top">
              <TextBlock.IsVisible>
                <MultiBinding Converter="{x:Static BoolConverters.And}">
                  <Binding RelativeSource="{RelativeSource TemplatedParent}"
                           Path="UseFloatingWatermark" />
                  <Binding RelativeSource="{RelativeSource TemplatedParent}"
                           Path="Text"
                           Converter="{x:Static StringConverters.IsNotNullOrEmpty}" />
                </MultiBinding>
              </TextBlock.IsVisible>
            </TextBlock>

            <Button Name="PART_MaskedButton" DockPanel.Dock="Right" Background="Transparent" BorderThickness="0" ToolTip.Tip="Show password.">
              <Grid Height="15" Width="15">
                <DrawingPresenter VerticalAlignment="Center" HorizontalAlignment="Center">
                  <DrawingPresenter.Drawing>
                    <DrawingGroup>
                      <DrawingGroup.Children>
                        <GeometryDrawing Brush="#00FFFFFF" Geometry="F1M16,16L0,16 0,0 16,0z" />
                        <GeometryDrawing Brush="#FFF6F6F6" Geometry="F1M10.5186,8.6279C10.8236,8.1589 10.9996,7.5999 10.9996,6.9999 10.9996,6.8369 10.9876,6.6779 10.9616,6.5219 11.7176,6.8189 12.2606,7.1909 12.6206,7.4959 12.1926,7.8559 11.5046,8.3129 10.5186,8.6279 M3.3746,7.5009C3.7346,7.1939 4.2796,6.8199 5.0376,6.5219 5.0126,6.6789 4.9996,6.8379 4.9996,6.9999 4.9996,7.6039 5.1796,8.1659 5.4866,8.6369 4.4896,8.3229 3.8016,7.8629 3.3746,7.5009 M15.9996,7.2349L15.8686,7.0039C15.7746,6.8399 13.5166,2.9999 7.9996,2.9999 2.4826,2.9999 0.224599999999999,6.8399 0.131599999999999,7.0039L0.000599999999998602,7.2329 0.000599999999998602,7.7669 0.131599999999999,7.9959C0.224599999999999,8.1599 2.4826,11.9999 7.9996,11.9999 13.5166,11.9999 15.7746,8.1599 15.8686,7.9959L15.9996,7.7649z" />
                        <GeometryDrawing Brush="#FF424242" Geometry="F1M10,7C10,8.105 9.104,9 8,9 6.896,9 6,8.105 6,7 6,6.437 6.234,5.931 6.607,5.567 6.543,5.7 6.5,5.843 6.5,6 6.5,6.553 6.948,7 7.5,7 8.053,7 8.5,6.553 8.5,6 8.5,5.506 8.137,5.115 7.667,5.034 7.775,5.015 7.886,5 8,5 9.104,5 10,5.895 10,7 M8,10C3.714,10 2,7.5 2,7.5 2,7.5 3.714,5 8,5 12.285,5 14,7.5 14,7.5 14,7.5 12.285,10 8,10 M8,4C3,4 1,7.5 1,7.5 1,7.5 3,11 8,11 13,11 15,7.5 15,7.5 15,7.5 13,4 8,4" />
                        <GeometryDrawing Brush="#FFF0EFF1" Geometry="F1M14,7.5C14,7.5 12.285,10 8,10 3.714,10 2,7.5 2,7.5 2,7.5 3.554,5.245 7.39,5.022 7.428,5.018 7.461,5 7.5,5 7.527,5 7.55,5.013 7.576,5.016 7.717,5.01 7.854,5 8,5 7.886,5 7.775,5.015 7.667,5.034 8.137,5.115 8.5,5.506 8.5,6 8.5,6.553 8.053,7 7.5,7 6.948,7 6.5,6.553 6.5,6 6.5,5.843 6.543,5.7 6.607,5.567 6.234,5.931 6,6.437 6,7 6,8.105 6.896,9 8,9 9.104,9 10,8.105 10,7 10,5.895 9.104,5 8,5 12.285,5 14,7.5 14,7.5" />
                      </DrawingGroup.Children>
                    </DrawingGroup>
                  </DrawingPresenter.Drawing>
                </DrawingPresenter>
              </Grid>
            </Button>

            <DataValidationErrors>
              <ScrollViewer HorizontalScrollBarVisibility="{TemplateBinding (ScrollViewer.HorizontalScrollBarVisibility)}"
                            VerticalScrollBarVisibility="{TemplateBinding (ScrollViewer.VerticalScrollBarVisibility)}">

                <Panel>
                  <TextBlock Name="watermark"
                             Opacity="0.5"
                             Text="{TemplateBinding Watermark}"
                             IsVisible="{TemplateBinding Text, Converter={x:Static StringConverters.IsNullOrEmpty}}" />
                  <TextPresenter Name="PART_TextPresenter"
                                 Text="{TemplateBinding Text, Mode=TwoWay}"
                                 CaretIndex="{TemplateBinding CaretIndex}"
                                 SelectionStart="{TemplateBinding SelectionStart}"
                                 SelectionEnd="{TemplateBinding SelectionEnd}"
                                 TextAlignment="{TemplateBinding TextAlignment}"
                                 TextWrapping="{TemplateBinding TextWrapping}"
                                 PasswordChar="{TemplateBinding PasswordChar}" />
                </Panel>
              </ScrollViewer>
            </DataValidationErrors>
          </DockPanel>
        </Border>
      </ControlTemplate>
    </Setter>
  </Style>
  <Style Selector="TextBox:pointerover /template/ Border#border">
    <Setter Property="BorderBrush" Value="{DynamicResource ThemeBorderHighBrush}" />
  </Style>
  <Style Selector="TextBox:focus /template/ Border#border">
    <Setter Property="BorderBrush" Value="{DynamicResource ThemeBorderHighBrush}" />
  </Style>
  <Style Selector="TextBox:error /template/ Border#border">
    <Setter Property="BorderBrush" Value="{DynamicResource ErrorBrush}" />
  </Style>
  <Style Selector="TextBox">
    <Setter Property="Cursor" Value="IBeam" />
  </Style>
</Styles>
