<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:controls="clr-namespace:WalletWasabi.Gui.Controls;assembly=WalletWasabi.Gui" Design.Width="600">
  <controls:GroupBox Title="{Binding Title}" BorderThickness="0" Classes="docTabContainer">
    <Grid Classes="content" Margin="0 40 0 0">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*" />
        <RowDefinition Height="*" />
        <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>
      <Expander Grid.Row="0" Margin="0 10" IsExpanded="{Binding IsSearchResultExpanded}" VerticalContentAlignment="Center" VerticalAlignment="Center">
        <Expander.Header>
          <StackPanel Orientation="Horizontal" Spacing="10">
            <TextBlock Text="Public key browser" VerticalAlignment="Center" />
            <controls:ExtendedTextBox  Text="{Binding AddressSearch}" Watermark="Enter address here..." Width="400" />
          </StackPanel>
        </Expander.Header>
        <ListBox Items="{Binding Addresses}" SelectedItem="{Binding SelectedItem}" MaxHeight="300" MinHeight="100" ScrollViewer.HorizontalScrollBarVisibility="Auto">
          <ListBox.ItemTemplate>
            <DataTemplate>
              <Grid ColumnDefinitions="400 400 700">
                <Grid.Styles>
                  <Style Selector="TextBlock">
                    <Setter Property="VerticalAlignment" Value="Center" />
                  </Style>
                </Grid.Styles>
                <TextBlock Text="{Binding Address}" Grid.Column="0" Margin="10 0" />
                <TextBlock Text="{Binding Label}" Grid.Column="1" Margin="10 0" />
                <TextBlock Text="{Binding PubKey}" Grid.Column="2" Margin="10 0" />
              </Grid>
            </DataTemplate>
          </ListBox.ItemTemplate>
        </ListBox>
      </Expander>
      <controls:ExtendedTextBox Grid.Row="1" Text="{Binding MyPublicKey}" Watermark="My public key" TextWrapping="Wrap" IsReadOnly="True" AcceptsReturn="True" UseFloatingWatermark="True" />
      <controls:ExtendedTextBox Grid.Row="2" Text="{Binding EncryptedMessage}" Watermark="Encrypted message" UseFloatingWatermark="True" TextWrapping="Wrap" AcceptsReturn="True" />
      <controls:ExtendedTextBox Grid.Row="3" Text="{Binding DecryptedMessage}" Watermark="Decrypted message" TextWrapping="Wrap" IsReadOnly="True" AcceptsReturn="True" UseFloatingWatermark="True" />
      <DockPanel Grid.Row="4" LastChildFill="True">
        <Button DockPanel.Dock="Right" Content="Decrypt" Command="{Binding DecryptCommand}" Width="100" />
        <TextBlock Text="{Binding WarningMessage}" Classes="warningMessage" TextWrapping="Wrap" />
      </DockPanel>
    </Grid>
  </controls:GroupBox>
</UserControl>
